import{u as S,i,a as d,b as t,m as N,n as c,v as m,t as p,p as R,h as g,d as _,w as q,f,r as C,g as T,k as V,o as v,R as y}from"./index-CaANifo-.js";const h={class:"mx-auto max-w-md p-6 space-y-6"},M={key:0,class:"text-sm text-red-600"},U=["disabled"],A={class:"text-sm text-gray-600"},D={__name:"Register",setup(B){const x=S(),r=T(),b=V(),a=i(""),o=i(""),n=i(!1),s=i("");async function w(){if(!a.value||!o.value){s.value="Username and password are required.";return}n.value=!0,s.value="";try{await x.register({userName:a.value,password:o.value});const u=typeof r.query.redirect=="string"&&r.query.redirect?r.query.redirect:{name:y.TASKS};await b.replace(u)}catch(u){s.value=u?.message??"Registration failed."}finally{n.value=!1}}return(u,e)=>{const k=C("router-link");return v(),d("section",h,[e[6]||(e[6]=t("header",null,[t("h1",{class:"text-2xl font-semibold"},"Create an account"),t("p",{class:"text-gray-600"},"Register to start using Task Master")],-1)),t("form",{onSubmit:R(w,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-gray-700"},"Username",-1)),c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),type:"text",autocomplete:"username",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[m,a.value]])]),t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1)),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),type:"password",autocomplete:"new-password",class:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[m,o.value]])]),s.value?(v(),d("p",M,p(s.value),1)):N("",!0),t("button",{type:"submit",disabled:n.value,class:"w-full rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50"},p(n.value?"Creatingâ€¦":"Create account"),9,U)],32),t("p",A,[e[5]||(e[5]=g(" Already have an account? ",-1)),_(k,{to:{name:f(y).LOGIN,query:{redirect:f(r).query.redirect??void 0}},class:"text-indigo-600 hover:text-indigo-700"},{default:q(()=>[...e[4]||(e[4]=[g(" Sign in ",-1)])]),_:1},8,["to"])])])}}};export{D as default};
